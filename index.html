<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Sele üíñ</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at bottom, #0b1026, #000);
  overflow: hidden;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ESTRELLAS DE FONDO */
.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0.7;
}

/* CONSTELACI√ìN */
.constellation {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
}

.constellation span {
  position: absolute;
  width: 5px;
  height: 5px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 12px white;
  animation: glow 2s infinite alternate;
}

@keyframes glow {
  from { opacity: 0.4; }
  to { opacity: 1; }
}

.line {
  position: absolute;
  height: 1px;
  background: rgba(255,255,255,0.6);
  transform-origin: left center;
}

/* CORAZ√ìN PRINCIPAL */
#main-heart {
  font-size: min(220px, 70vw);
  cursor: pointer;
  animation: latido 1.3s infinite;
  position: relative;
  z-index: 3;
  display: flex;
  align-items: center;
  justify-content: center;
}

#main-heart span {
  position: absolute;
  font-size: min(40px, 8vw);
  color: white;
  font-weight: bold;
  top: 55%;
}

@keyframes latido {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

/* CARTA */
#envelope {
  display: none;
  position: absolute;
  width: 420px;
  max-width: 90vw;
  background: white;
  border-radius: 15px;
  z-index: 5;
  padding: 30px;
  text-align: center;
  box-shadow: 0 30px 60px rgba(0,0,0,0.5);
}

#envelope h2 {
  color: #ff4d6d;
}

#envelope p {
  font-size: 15px;
  line-height: 1.7;
}

#closeBtn {
  margin-top: 20px;
  padding: 10px 25px;
  border: none;
  border-radius: 20px;
  background: #ff4d6d;
  color: white;
  cursor: pointer;
  font-size: 14px;
}

/* FRASE FINAL */
#finalMessage {
  display: none;
  position: absolute;
  color: white;
  font-size: 28px;
  text-align: center;
  animation: fadeIn 4s forwards;
  z-index: 4;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

/* CORAZONES FLOTANDO */
.heart {
  position: absolute;
  font-size: 22px;
  opacity: 0.9;
  animation: float 7s linear forwards;
  z-index: 1;
}

@keyframes float {
  from { transform: translateY(0) translateX(0); opacity: 1; }
  to { transform: translateY(-700px) translateX(var(--x)); opacity: 0; }
}
</style>
</head>

<body>

<div id="main-heart" onclick="startLove()">
  ‚ù§Ô∏è
  <span>Sele</span>
</div>

<div id="envelope">
  <h2>Para ti, Sele üíï</h2>
  <p>
    Eres una chica tan linda, tan maravillosa e incre√≠ble, que a veces me parece un sue√±o tenerte en mivida. Tu corazon vale m√°s que el oro, es un tesoro que ilumina todo a su alrededor. Nunca degas que no eres perfecta, porque a tr√°ves de mis ojos siempre ser√°s perfecta y √∫nica, la obra m√°s hermosa que la vida me ha permitido conocer
  </p>
  <button id="closeBtn" onclick="closeLetter()">Cerrar üíñ</button>
</div>

<div class="constellation" id="constellation"></div>

<div id="finalMessage">
  Entre millones de estrellas,<br>
  mi elecci√≥n siempre ser√°s t√∫ ‚ú®
</div>

<audio id="music" loop>
  <source src="musica.mp3" type="audio/mpeg">
</audio>

<script>
// ESTRELLAS DE FONDO
for (let i = 0; i < 160; i++) {
  const s = document.createElement("div");
  s.className = "star";
  s.style.left = Math.random() * window.innerWidth + "px";
  s.style.top = Math.random() * window.innerHeight + "px";
  document.body.appendChild(s);
}

let heartInterval;

function startLove() {
  document.getElementById("main-heart").style.display = "none";
  document.getElementById("envelope").style.display = "block";
  document.getElementById("music").play();
  drawConstellationHeart();
  heartInterval = setInterval(createHeart, 300);
}

function createHeart() {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "üíñ";
  h.style.left = Math.random() * window.innerWidth + "px";
  h.style.bottom = "-30px";
  h.style.setProperty("--x", (Math.random() * 200 - 100) + "px");
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 7000);
}

/* CONSTELACI√ìN EN FORMA DE CORAZ√ìN */
function drawConstellationHeart() {
  const c = document.getElementById("constellation");

  const points = [
    [50,38],[54,36],[58,38],
    [60,42],[58,46],[54,50],
    [50,54],[46,50],[42,46],
    [40,42],[42,38],[46,36]
  ];

  let prev = null;
  let delay = 0;

  points.forEach(p => {
    setTimeout(() => {
      const star = document.createElement("span");
      star.style.left = p[0] + "%";
      star.style.top = p[1] + "%";
      c.appendChild(star);

      if (prev) drawLine(prev, star);
      prev = star;
    }, delay);
    delay += 300;
  });

  // cerrar el coraz√≥n
  setTimeout(() => drawLine(prev, c.children[0]), delay + 200);
}

function drawLine(a, b) {
  const line = document.createElement("div");
  line.className = "line";

  const ax = a.offsetLeft + 2;
  const ay = a.offsetTop + 2;
  const bx = b.offsetLeft + 2;
  const by = b.offsetTop + 2;

  const length = Math.hypot(bx - ax, by - ay);
  const angle = Math.atan2(by - ay, bx - ax) * 180 / Math.PI;

  line.style.width = length + "px";
  line.style.left = ax + "px";
  line.style.top = ay + "px";
  line.style.transform = `rotate(${angle}deg)`;

  document.getElementById("constellation").appendChild(line);
}

/* CIERRE EN C√ÅMARA LENTA */
function closeLetter() {
  document.getElementById("envelope").style.transition = "opacity 3s ease";
  document.getElementById("envelope").style.opacity = "0";
  setTimeout(() => {
    document.getElementById("finalMessage").style.display = "block";
  }, 1500);
}
</script>

</body>
</html>

